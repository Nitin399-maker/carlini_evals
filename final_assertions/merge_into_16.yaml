description: "Test if the model can write a Python script that merges a list of file paths into 16 files of approximately equal size."
providers:
- id: openai:chat:o4-mini
  config:
    max_tokens: 8192
    reasoning_effort: high

defaultTest:
  assert: []
  vars: {}

tests:
  - description: "Test if the model can write a Python script that merges a list of file paths into 16 files of approximately equal size."
    vars:
      prompt: |-
        I have a list of several thousand file paths in /tmp/files. Write a python script that merges the content into 16 files called /tmp/merged_%d for i in 0..15 where each is approximately the same size. "/tmp/files" is a list of file paths, one per line and return the code in ```python ``` literals.
    assert:
      - type: python
        value: "file://merge_into_16.py:assert_python_file_merger"

writeLatestResults: true
commandLineOptions:
  cache: true